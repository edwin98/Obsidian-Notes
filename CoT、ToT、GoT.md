**都属于LLM 推理控制 / 思维组织策略（Reasoning Strategy）**
# CoT(Chain of Thought)

引导模型将思维过程输出，这样能提高模型的表现， CoT有两种实现方式:
- zero shot:直接在prompt后增加一句话，Let's think step by step
- few shot:在 Prompt 中给模型几个带有推理步骤的例子
## 应用场景
CoT 最适合那些**路径唯一但步骤繁琐**的任务。它解决了模型“跳步”导致的计算错误或逻辑断裂。
- 数学与科学计算：
    在解决初高中数学应用题（如 GSM8K 数据集）时，CoT 能防止模型直接给出一个错误的数字。它会先列方程，再逐步求解。
- 代码逻辑解释：
    当你给模型一段复杂的 Python 代码并询问其运行结果时，CoT 会让模型模拟解释器的行为，一行行追踪变量的变化，而不是凭感觉猜测输出。
- 简单常识推理：
    例如判断“金字塔能否装进行李箱”，模型需要通过 CoT 先检索金字塔的大小，再检索行李箱的大小，最后进行对比。
## 具体的实现方式
对于大部分模型，属于提示词策略，**一部分模型使用RL将这个思考过程内化在权重中**，成为了模型的原生能力，如deepseek-R1、openAI-O1等
## CoT为什么能降低幻觉
1. 概率空间收敛：本质上大模型是长丝预测下一个token的概率分布，在cot中，相当于引入了中间变量，每步推理都能为下一步token预测提供更强的上下文约束
2. 激活模型的慢思考模式
3. 强化注意力锚定，在cot的过程中，自注意力会更关注自己推理出的一些步骤信息，避免关键信息丢失。同时，如果cot中有矛盾出现，也会有自我纠错的能力
4. 从检索模式切换为了推理模式
## 局限
虽然 CoT 能降低幻觉，但它不能完全消除幻觉。如果
1. **起始步骤错误**：第一步就错了，后面会引发“幻觉级联”（Hallucination Cascade），错得更离谱。
2. **知识盲区**：模型根本不知道某个核心事实，它会一本正经地进行错误的推导。
这就是为什么现在的趋势是 **RAG（检索增强生成）+ CoT**：用 RAG 保证事实节点是正确的，用 CoT 保证逻辑链条是严密的。
# ToT(Tree of Thought)
CoT为线性，一步有误，则后续都会有问题，ToT就是为了解决这个问题。是 **Agent 的设计范式**
## 工作流程
- 思维分解：将问题分解为多个中间步骤（Thought Units）。
- 生成候选：在每一步，模型会生成多个可能的下一步方案（分叉）。
- 状态评估：由模型充当“评价者”，判断当前的各个分支哪个更有前途（可行、可能、不可能）。
- 搜索算法：利用DFS、BFS来寻找最优解。如果发现当前路径死路一条，模型可以回溯到上一个节点重新选择。
## 应用场景
ToT 适用于**有多个潜在解、需要反复尝试和评估**的任务。它本质上是给 LLM 增加了“后悔药”和“全局观”。
- 创意写作与剧本构思：
    在写小说时，作者可以利用 ToT 让模型生成三个不同的情节走向（分支 A、B、C），然后评估哪个情节逻辑最通顺、最吸引人，选定后再继续向下延伸。
- 复杂的任务规划：
    比如“策划一场去西藏的旅游”。ToT 可以同时考虑“自驾”、“飞行”和“火车”三条树状路径，并根据预算和时间节点剔除不合理的路径。
# GoT (Graph of Thoughts) - 思维图
核心逻辑：非线性网络与知识聚合
GoT 是对 ToT 的进一步升华，它认为人类的思维不只是分叉的树，还可以是错综复杂的有向图（DAG）。是 **Agent 的设计范式**

- 工作方式：
    - 节点与边：每个思维是一个节点，边表示推理关系。
    - 变换操作：
        - 聚合（Aggregation）：将多个不同的思维节点合并成一个更完善的结论。
        - 精炼（Refinement）：对某个思维节点进行迭代修正。
        - 循环（Looping）：虽然通常是无环图，但在某些设计中允许对同一思维进行循环打磨。
- 核心优势：它可以处理具有复杂依赖关系的问题，支持不同推理路径之间的信息交换和优势互补。
## 应用场景
- 长文档摘要与信息整合： 如果要总结一本 300 页的书，GoT 可以先分章节总结（生成节点），然后将相关的章节总结进行合并（Aggregation），最后通过对比和去重，精炼出（Refinement）全书的核心观点。
- 复杂系统架构设计： 在设计一个微服务架构时，模型可以先生成存储方案和通信方案，然后将这两个节点连接起来，观察它们是否兼容。如果不兼容，则返回修改其中一个节点，直到整张图逻辑自洽。
- 新药发现或材料科学： 研究人员可以利用 GoT 让模型组合不同的化学分子式。节点 A 是某种特性，节点 B 是另一种特性，通过图的合并操作，探索是否存在某种新的组合能同时满足两者的优势。
